p\left( \bm{r} ,y | \alpha, \gamma_0, \gamma \right) &= p\left( y | \alpha, \gamma_0 \right) p\left( \bm{r} | y, \gamma \right) \\
   &= C\exp \left( -\dfrac {1} {2} \gamma_0 \left( y-\alpha \right) ^{2}\right)
   \exp \left( -\dfrac {1} {2}\gamma n\left( y-\dfrac {\sum _{j}r^{j}} {n}\right) ^{2}\right) \\
   &= C'\exp \left( - \dfrac {1} {2} \tilde{\gamma} \left( y - \tilde {\mu} \right) ^{2}  \right)

\tilde{\mu} &= \dfrac {\gamma \sum _{j}r^{j}+\gamma_0\alpha _{0}} {\gamma n+\gamma _{0}} \\
\tilde{\gamma} &= \gamma n+\gamma _{0}


\log p( \bm{r}, \bm{y}| \gamma, \gamma_y, \gamma_0, \alpha)
  &\propto \sum_i \left( \dfrac {\gamma_y} {2} \sum_{j\in{J_i}} \dfrac {(y_i - y_j)^2} {2}
    + \dfrac {\tilde{\gamma_i}} {2} \left( y_{i} - \tilde {\mu_i} \right) ^{2} \right) \\
  &= \begin{pmatrix} \bm{y} ^\top  \tilde{\bm{\mu}}^\top \end{pmatrix}
        \begin{pmatrix}
            \bm{A} & -\bm{B} \\
            -\bm{B} & \bm{B}
        \end{pmatrix}
        \begin{pmatrix}
          \bm{y}  \\
          \tilde{\bm{\mu}}
        \end{pmatrix} \\
  &= (\T{\bm{y} } - \T{\tilde{\bm{\mu}}}\bm{B} \bm{A}^{-1}) \bm{A} (\bm{y}  - \bm{A}^{-1} \bm{B} \tilde{\bm{\mu}})
    + \tilde{\bm{\mu}}^\top (\bm{B} - \bm{B} \bm{A}^{-1} \bm{B} ) \tilde{\bm{\mu}} \\
  &\approx (\T{\bm{y} } - \T{\tilde{\bm{\mu}}}\bm{B} \bm{A'}^{-1}) \bm{A'} (\bm{y}  - \bm{A'}^{-1} \bm{B} \tilde{\bm{\mu}})
    + \tilde{\bm{\mu}}^\top (\bm{B} - \bm{B} \bm{A'}^{-1} \bm{B} ) \tilde{\bm{\mu}}

    
// Kernel
K(\bm{x}_i,\bm{x}_j)=\exp \left(-\frac{||\bm{x}_i-\bm{x}_j||^2}{\sigma^2} \right)

f \sim \GP(f|m, k_\theta)

\mathcal{D}_{1:n} = \{{\bm{x}_i, y_i}\}^n_{i=1}


p\left( \bm{r}, \bm{y} | \gamma, \gamma_y \right)
   &= C \left( \prod_{i=1}^n \exp \left( -\dfrac {\gamma} {2} \left( y_i - r_i \right) ^{2}\right)\right)
  \left( \prod_{i=1}^{n-1} \exp \left( -\dfrac {\gamma_y} {2} \left( y_{i+1} - y_i \right) ^{2}\right)\right)


\dfrac {1} {n_i} \sum^{n_i}_{j=1} r_i^j
\max({\rm memory_{GP}}) \approx {\rm memory_{GMRF}}
